<Project>
  <Target Name="default">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=" />
  </Target>

  <Target Name="pre-clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=pre-clean" />
  </Target>

  <Target Name="clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=clean" />
  </Target>

  <Target Name="post-clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=post-clean" />
  </Target>

  <Target Name="validate">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=validate" />
  </Target>

  <Target Name="initialize">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=initialize" />
  </Target>

  <Target Name="compile">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=compile" />
  </Target>

  <Target Name="test-compile">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=test-compile" />
  </Target>

  <Target Name="test">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=test" />
  </Target>

  <Target Name="package-prepare">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=package-prepare" />
  </Target>

  <Target Name="package">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=package" />
  </Target>

  <Target Name="pre-integration-test">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=pre-integration-test" />
  </Target>

  <Target Name="integration-test">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=integration-test" />
  </Target>

  <Target Name="post-integration-test">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=post-integration-test" />
  </Target>

  <Target Name="verify">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=verify" />
  </Target>

  <Target Name="install">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=install" />
  </Target>

  <Target Name="deploy">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=deploy" />
  </Target>

  <Target Name="--for-ci">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=--for-ci" />
  </Target>
  <Target Name="restore-npm-modules">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=restore-npm-modules" />
  </Target>
  <Target Name="restore-bower-components">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=restore-bower-components" />
  </Target>
  <Target Name="run-grunt">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=run-grunt" />
  </Target>
  <Target Name="clean-bin-folder">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=clean-bin-folder" />
  </Target>
  <Target Name="clean-npm-modules">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=clean-npm-modules" />
  </Target>
  <Target Name="deep-clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=deep-clean" />
  </Target>
  <Target Name="repo-initialize">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=repo-initialize" />
  </Target>
  <Target Name="target-dir-clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=target-dir-clean" />
  </Target>
  <Target Name="build-clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=build-clean" />
  </Target>
  <Target Name="ci-deep-clean">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=ci-deep-clean" />
  </Target>
  <Target Name="build-compile">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=build-compile" />
  </Target>
  <Target Name="run-api-check">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=run-api-check" />
  </Target>
  <Target Name="build-pack">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=build-pack" />
  </Target>
  <Target Name="native-compile">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=native-compile" />
  </Target>
  <Target Name="nuget-verify">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=nuget-verify" />
  </Target>
  <Target Name="nuget-install">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=nuget-install" />
  </Target>
  <Target Name="xunit-test">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=xunit-test" />
  </Target>
  <Target Name="make-roslyn-fast">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=make-roslyn-fast" />
  </Target>
  <Target Name="resx">
    <MSBuild Projects="$(MSBuildProjectFullPath)" Targets="ExecShade" Properties="ShadeTarget=resx" />
  </Target>
  <Target Name="--no-restore">
    <PropertyGroup>
      <NoRestore>true</NoRestore>
    </PropertyGroup>
  </Target>
  <Target Name="--quiet">
    <PropertyGroup>
      <MakeQuiet>true</MakeQuiet>
    </PropertyGroup>
  </Target>
  <Target Name="--parallel" />

  <Target Name="ExecShade">
    <PropertyGroup>
      <ShadeDirectory>$(KoreBuildDirectory)shade/</ShadeDirectory>
      <SakeExecutable>$(RepositoryRoot)$(KoreBuildDirectory)sake/0.2.2/tools/Sake.exe</SakeExecutable>
      <SakeExecutable Condition="'$(OS)'!='Windows_NT'">mono $(SakeExecutable)</SakeExecutable>
      <MakeFilePath>$(ShadeDirectory)makefile.shade</MakeFilePath>
      <MakeFilePath Condition="!Exists('$(RepositoryRoot)makefile.shade')">$(RepositoryRoot)makefile.shade</MakeFilePath>

      <ShadeTarget Condition="'$(NoRestore)'=='true'">--no-restore $(ShadeTarget)</ShadeTarget>
      <ShadeTarget Condition="'$(MakeQuiet)'=='true'">--quiet $(ShadeTarget)</ShadeTarget>
    </PropertyGroup>

    <Exec 
      Command="$(SakeExecutable) -I $(KoreBuildDirectory)shade -f $(MakeFilePath) $(ShadeTarget)"
      WorkingDirectory="$(RepositoryRoot)" />
  </Target>
</Project>